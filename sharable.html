<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML Editor</title>
<style>
/* Add your custom styles here */
    </style>
</head>
<body>
<textarea id="textarea" rows="10" cols="50"></textarea>
<button id="share-btn">Share</button>
<script>
      const textarea = document.getElementById('textarea');
      
      function generateUid() {
        const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
        let uid = '';
        for (let i = 0; i < 20; i++) {
          uid += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return uid;
      }
      
      function saveCodeSnippet(codeSnippet) {
        const uid = generateUid();
        localStorage.setItem(uid, codeSnippet);
        return uid;
      }
      
      function loadCodeSnippet(uid) {
        return localStorage.getItem(uid);
      }
      
      function handleSharedUrl() {
        const urlParams = new URLSearchParams(window.location.search);
        const uid = urlParams.get('code');
        
        if (uid) {
          const codeSnippet = loadCodeSnippet(uid);
          if (codeSnippet) {
            textarea.value = codeSnippet;
          } else {
            // Handle the case when the shared code snippet is not found
            // (e.g., display an error message or redirect the user)
          }
        }
      }
      
      window.addEventListener('load', handleSharedUrl);
      
      document.querySelector('#share-btn').addEventListener('click', function() {
        const codeSnippet = textarea.value;
        const uid = saveCodeSnippet(codeSnippet);
        const shareUrl = `https://labground.github.io/share?code=${encodeURIComponent(uid)}`;
        
        // Copy the shareable URL to the clipboard using your preferred method
        // Example: Use the navigator.clipboard API
        navigator.clipboard.writeText(shareUrl);
        
        // Update the button text after sharing is complete
        this.innerText = 'Shared!';
      });
    </script>
</body>
</html>
